---
import SectionLayout from "../layouts/SectionLayout.astro";
import CardProject from "../components/astro/CardProject.astro";
import GalleryProjects from "../components/astro/GalleryProjects.astro";
import ExtraProjects from "../components/astro/ExtraProjects.astro";
import type { IProject } from "../interfaces/IProject.interface";

const proyectDescription =
  "Mi selecci√≥n personal de proyectos frontend, donde destaco ejemplos que representan mi enfoque en el desarrollo web orientado al usuario y a la calidad.";

const data = await fetch(`${import.meta.env.API_URL}/api/projects`);
const projects = await data.json() as IProject[];
---

<SectionLayout
  headerPage="Projectos üöÄ"
  title="Projects üöÄ"
  sectionDescription={proyectDescription}
  color="#f94848"
>
  <GalleryProjects
    >|
    {projects.map((project) => <CardProject project={project} />)}
  </GalleryProjects>
  <ExtraProjects />
</SectionLayout>
